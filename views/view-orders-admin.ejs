<%-include('admin-header')%>
<style>
    .details{
        width:30%;

    }

    .item-grid{
        width: 70%;
        grid-template-columns: repeat(3,1fr);
    }

    .items-card{
        text-align: left;
        width: 250px;
        box-shadow: 2px 2px 10px;
        
    }

    .items-card img{
        max-width: 100%;
        height:200px;
    }

    .info{
        color:purple;
        font-weight: 600;
    }

    li{
        margin-bottom: 1.5rem;
    }
    </style>


 <div class="details major-div">
    <h1 class="sh-1"> Orders</h1>
<div class="grid">


    <!-- <div class="products">
        
        <div class="card items-card">
        
                <h2 class="sh-2 btn btn-primary">delivered<i class="fa fa-check-circle"></i></h2>
        
                <a href=""><h2 class="sh-2 btn btn-secondary">delivery pending</h2></a>

            
            <img src="/images/bg.jpg" alt="product image">
            <li><span class="info">name:</span> products name</li>
            
            <li><span class="info">quantity:</span>  20 ordered</li>

        </div>
    </div> -->
    
    <%if(allOrders.products){%>
        <%allOrders.forEach(order =>{%>
        
            <%for(let i = 0 ; i < order.products.length; i ++){%>

                <div class="products">
                    <!-- each products from orders -->
                    <div class="card items-card">
                        <%if(order.delivered){%>
                            <h2 class="sh-2 btn btn-primary">delivered<i class="fa fa-check-circle"></i></h2>
                        <%}else{%>
                            <a style="margin:auto" href="/admin/delivered/<%=order._id%>"><h2 class="sh-2 btn btn-secondary">delivery pending</h2></a>
                        <%}%>
                        <a href="/admin/get-one-order/<%=order._id%>"><img src="<%=order.products[i].image%>" alt="product image"></a>
                        <li><span class="info">name:</span> <%=order.products[i].name%></li>
                        <!-- get quantity from quantity array -->
                        <li><span class="info">quantity:</span>  <%=order.quantity[i]%> ordered</li>
            
                    </div>
                </div>
            <%}%>
        <%})%>

    <%}%>
 </div>
   
</div>
<%-include('footer')%>